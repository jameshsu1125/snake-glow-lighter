import{r as m,a as H,g as M,i as N,j as b}from"./index-DihMfRpd.js";const O={step:0},W=m.createContext([O,()=>{}]);var T={};(function(i){var l=N;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=l(H());function v(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(w){return Object.getOwnPropertyDescriptor(t,w).enumerable})),a.push.apply(a,s)}return a}function d(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?v(Object(a),!0).forEach(function(s){(0,r.default)(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}var p=window,y=p.requestAnimationFrame,u=function(){return new Date().getTime()},c="There is nothing to undo.",f=u(),g={enable:!1,timestamp:f,stopTime:f,lastTime:f,fps:0},n=d({},g),o={do:function(){},list:[]},S=function(e){o.list.push(o.do),o.do=function(a){return function(){return e(arguments[0]),a.apply(this,arguments)}}(o.do)},E=function t(){if(n.enable){var e=u(),a=n.fps?1e3/n.fps:0,s=e-n.lastTime;if(s<a){y(function(){return t()});return}n.lastTime=e;var w=e-n.timestamp;o.do({delta:w}),y(function(){return t()})}},F=function(){if(!n.enable){n.enable=!0;var e=u()-n.stopTime;n.timestamp+=e,E()}},D=function(){n.enable=!1,n.stopTime=u()},C=function(){n.enable=g.enable,o.do=function(){},o.list=[]},R=function(){var e=o.list;if(e.length===0){console.warn(c);return}o.do=e[e.length-1],e.pop()},_=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:30;n.fps=e},k=function(){n.timestamp=u(),n.stopTime=u(),n.lastTime=u()},q={add:S,todo:o,play:F,stop:D,destroy:C,undo:R,setFPS:_,reset:k};i.default=q})(T);const P=M(T),x=[{x:100,y:50},{x:150,y:50},{x:200,y:50},{x:250,y:50},{x:300,y:50},{x:350,y:50},{x:400,y:50},{x:400,y:100},{x:400,y:150},{x:400,y:200},{x:400,y:250},{x:400,y:300},{x:400,y:350},{x:350,y:350},{x:300,y:350},{x:250,y:350},{x:200,y:350},{x:150,y:350},{x:100,y:350},{x:100,y:300},{x:100,y:250},{x:100,y:200},{x:100,y:150},{x:100,y:100}],h=20,j=[{blur:15,color:"#fff"},{blur:35,color:"#008cff"},{blur:35,color:"#0ff"}],A=Number(new URLSearchParams(window.location.search).get("fps")||60),L=Math.max(2,Math.min(Number(new URLSearchParams(window.location.search).get("max")||x.length),x.length)),U=m.memo(()=>{const i=m.useRef(x),l=m.useRef(null);return m.useEffect(()=>{if(l.current){const r=l.current.getContext("2d");if(r){const v=()=>{r.clearRect(0,0,500,500),r.strokeStyle="#fff",r.lineWidth=h,r.lineCap="round";let d=null,p=null;const y=i.current.slice(0,L);y.forEach((c,f)=>{[...new Array(j.length).keys()].forEach(g=>{if(d){const{blur:n,color:o}=j[g%j.length];r.shadowBlur=n,r.shadowColor=o,r.beginPath(),r.lineWidth=h-f*(h/x.length),r.moveTo(d.x,d.y),r.lineTo(c.x,c.y),r.stroke()}}),d=c}),y.forEach((c,f)=>{p&&(r.beginPath(),r.lineWidth=h-f*(h/x.length),r.moveTo(p.x,p.y),r.lineTo(c.x,c.y),r.stroke()),p=c});const u=i.current.shift();u&&(i.current=i.current.concat(u))};P.setFPS(A),P.add(v),P.play()}}},[]),b.jsx("canvas",{ref:l,width:500,height:500,className:"Canvas"})}),B=m.memo(()=>{const[i,l]=m.useState(O);return b.jsx("div",{className:"Home",children:b.jsx(W.Provider,{value:[i,l],children:b.jsx(U,{})})})});export{B as default};
